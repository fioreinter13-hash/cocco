<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vuoi essere il mio Pulcino? ü••üê•</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    background-color: #ffdeeb;
    font-family: 'Montserrat', sans-serif;
    overflow: hidden;
}

#container {
    text-align: center;
    padding: 20px;
    z-index: 2;
    position: relative;
    margin-top: 80px;
}

h1 {
    color: #d63384;
    font-size: 2.5rem;
    margin-bottom: 20px;
    font-weight: 700;
}

.gif-container {
    position: relative;
}

.gif-container img {
    width: 250px;
    border-radius: 15px;
    margin-bottom: 20px;
}

#noMessage {
    font-size: 1.3rem;
    color: #d63384;
    min-height: 40px;
    font-weight: 700;
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateY(20px);
}

.showMessage {
    animation: fadeSlideBounce 0.6s forwards;
}

@keyframes fadeSlideBounce {
    0% { opacity: 0; transform: translateY(20px); }
    60% { opacity: 1; transform: translateY(-5px); }
    100% { opacity: 1; transform: translateY(0); }
}

.buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: center;
    min-height: 350px;
    width: 100%;
    position: relative;
}

button {
    padding: 15px 30px;
    font-size: 1.2rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 700;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    white-space: nowrap;
}

#yesBtn {
    background-color: #28a745;
    color: white;
    z-index: 100;
}

#noBtn {
    background-color: #dc3545;
    color: white;
    position: relative;
    z-index: 90;
}

.success-message { display: none; }

.success-message h1 {
    font-size: 3rem;
    animation: heartbeat 1.2s infinite;
    color: #d63384;
}

@keyframes heartbeat {
    0% { transform: scale(1);}
    50% { transform: scale(1.1);}
    100% { transform: scale(1);}
}

.heart {
    position: fixed;
    font-size: 28px;
    animation: explode 2.5s ease-out forwards;
    pointer-events: none;
    z-index: 9999;
}

@keyframes explode {
    0% {
        transform: translate(0,0) scale(0.5) rotate(0deg);
        opacity: 1;
    }
    70% {
        opacity: 1;
    }
    100% {
        transform: translate(var(--x), var(--y)) scale(1.8) rotate(720deg);
        opacity: 0;
    }
}
</style>
</head>

<body>

<!-- üéµ Audio invisibile, locale -->
<audio id="magicMusic" loop>
  <source src="magic_moments.mp3" type="audio/mpeg">
</audio>

<div id="container">
    <div id="question-ui">
        <div class="gif-container">
            <img id="mainGif"
            src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHZ0dGc3c215ejNmamplOWlpdm5xajZxNWJ4dGUzYXZibW9yeXV2ZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jWcApgiXPpsop3jRfR/giphy.gif"
            alt="Cute">
            <div id="noMessage"></div>
        </div>

        <h1>Vuoi essere il mio Pulcino? ü••üê•</h1>

        <div class="buttons">
            <button id="yesBtn">SI</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div id="success-ui" class="success-message">
        <div class="gif-container">
            <img id="successGif"
            src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaDloMDBqdWNqd2ZvcmpxZno0ZDFvcnpyaTgyc2ZycGxtMzVvaHA0ZyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/Wyevhc0e6tbH2bGbPN/giphy.gif"
            alt="Love">
        </div>
        <h1>CIIIP! ü•πü•∞</h1>
        <p style="font-size: 1.5rem; color: #d63384;">
            Sapevo che avresti detto CIP!
        </p>
    </div>
</div>

<script>
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const questionUI = document.getElementById('question-ui');
const successUI = document.getElementById('success-ui');
const music = document.getElementById('magicMusic');
const mainGif = document.getElementById('mainGif');
const successGif = document.getElementById('successGif');
const noMessage = document.getElementById('noMessage');

let clickCount = 0;
let yesFontSize = 1.2;

const phrases = [
    "Davvero? üôÅ",
    "Sei sicuro? ‚òπÔ∏è",
    "Mi rendi triste üíî",
    "Dai metti CIP per favorrre ü•∫"
];

const gifs = [
"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExa2YwNDBsZTk1YXNwbmZiajY0dTd6M3Rub215b3Q0d2VkZWt1MzdzYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/fYYWa1Sqg3mWUkbhRx/giphy.gif",
"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExb21xZHhuZW5ydWFzbmdpd3FhMGF2dDVyMjZldWwzZGhoajJlMWt1ciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/XYBFTVMIFTBgjRf5Fp/giphy.gif",
"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExczh3c3BxcHAwaWxtNnp2OW0zc2p5MXEwdnZidTBieGQyZXA1YXRhMyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/XiZnSj3TGemTbfe2wa/giphy.gif",
"https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM2ozZmNoMWdlYXJxNXdnZnh1ajJnMjNlcWhyY2FwMDNmbDk2emZkNiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/dzQuraVZ6VHTNZI4Df/giphy.gif",
"https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3M3ZtaWt6ajMwZXQ5cjRsYmw5YnBuYjR5Znp3dGpmdzdqZDg2M3BwbiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/0ioFVgpVkxcn4SvBtS/giphy.gif" 
];

function createHearts() {
    const colors = ["#ff4d6d","#ff85a1","#ff99c8","#f72585","#b5179e","#7209b7","#ff006e","#ff8fab"];
    for(let i=0;i<60;i++){
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML = "‚ù§";
        heart.style.color = colors[Math.floor(Math.random()*colors.length)];

        const x = (Math.random() - 0.5) * 900 + "px";
        const y = (Math.random() - 0.5) * 900 + "px";

        heart.style.left = window.innerWidth/2 + "px";
        heart.style.top = window.innerHeight/2 + "px";
        heart.style.setProperty('--x', x);
        heart.style.setProperty('--y', y);

        document.body.appendChild(heart);

        setTimeout(()=> heart.remove(),2500);
    }
}

function moveBtn() {
    const maxX = window.innerWidth - noBtn.offsetWidth - 40;
    const maxY = window.innerHeight - noBtn.offsetHeight - 40;

    const x = Math.max(20, Math.random()*maxX);
    const y = Math.max(20, Math.random()*maxY);

    noBtn.style.position='fixed';
    noBtn.style.left = x+'px';
    noBtn.style.top = y+'px';

    yesBtn.innerText = "CIP";
}

function handleNo() {
    if(clickCount < phrases.length){
        noMessage.innerText = phrases[clickCount];
        mainGif.src = gifs[clickCount];
    } else {
        noMessage.innerText = ""; 
        mainGif.src = gifs[clickCount];
        noBtn.innerText = "Non puoi dire No! ü•∏üê•";
    }

    noMessage.classList.remove('showMessage');
    void noMessage.offsetWidth;
    noMessage.classList.add('showMessage');

    clickCount++;

    yesFontSize += 1.2;
    yesBtn.style.fontSize = yesFontSize+'rem';
    yesBtn.style.padding = (15+clickCount*5)+'px '+(30+clickCount*10)+'px';

    if(clickCount > phrases.length) moveBtn();
}

noBtn.addEventListener('click',(e)=>{
    e.preventDefault();
    handleNo();
});

noBtn.addEventListener('mouseover',()=>{
    if(clickCount > phrases.length) moveBtn();
});

yesBtn.addEventListener('click',()=>{
    questionUI.style.display='none';
    successUI.style.display='block';
    music.play().catch(()=>{});
    createHearts();
});
</script>

</body>
</html>
